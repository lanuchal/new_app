{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport { api } from \"../api\";\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Home = function Home(_ref) {\n  var route = _ref.route;\n  var itemId = route.params.itemId;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      search = _useState4[0],\n      setSearch = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      filteredDataSource = _useState6[0],\n      setFilteredDataSource = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      masterDataSource = _useState8[0],\n      setMasterDataSource = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      datauser = _useState10[0],\n      setDatauser = _useState10[1];\n\n  useEffect(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setSearch(\"\");\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(api + \"/user/\" + itemId).then(function (result) {\n              setDatauser(result.data[0].data[0].user_grade);\n            }));\n\n          case 3:\n            fetch(api + \"/producthome\").then(function (response) {\n              return response.json();\n            }).then(function (responseJson) {\n              setFilteredDataSource(responseJson[0].data);\n              setMasterDataSource(responseJson[0].data);\n              setIsLoading(false);\n            }).catch(function (error) {\n              console.error(error);\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, [route]);\n\n  var searchFilterFunction = function searchFilterFunction(text) {\n    if (text) {\n      var newData = masterDataSource.filter(function (item) {\n        var itemData = item.product_name ? item.product_name.toUpperCase() : \"\".toUpperCase();\n        var textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      setFilteredDataSource(newData);\n      setSearch(text);\n    } else {\n      setFilteredDataSource(masterDataSource);\n      setSearch(text);\n    }\n  };\n\n  var ItemView = function ItemView(_ref2) {\n    var item = _ref2.item;\n\n    var box = function box(price) {\n      return _jsxs(View, {\n        style: styles.boxItems,\n        onPress: function onPress() {\n          seletedata(item.product_name, item.product_id, item.product_price);\n        },\n        children: [_jsx(ImageBackground, {\n          source: {\n            uri: \"https://hotel78maldives.com/thecatch/wp-content/uploads/2021/03/NoImageAvailable.png\"\n          },\n          resizeMode: \"cover\",\n          style: {\n            flex: 1,\n            justifyContent: \"center\"\n          },\n          children: _jsx(Image, {\n            source: {\n              uri: \"https://www.\\u0E1C\\u0E31\\u0E01\\u0E2A\\u0E14\\u0E40\\u0E0A\\u0E35\\u0E22\\u0E07\\u0E43\\u0E2B\\u0E21\\u0E48.com/image/product_image/\" + item.product_id + \".jpg\"\n            },\n            style: {\n              width: 180,\n              height: 180\n            }\n          })\n        }), _jsxs(View, {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            marginTop: 1,\n            position: \"relative\"\n          },\n          children: [_jsxs(Text, {\n            style: styles.itemStyle,\n            onPress: function onPress() {\n              return getItem(item);\n            },\n            children: [item.product_name.toUpperCase(), \" \"]\n          }), _jsx(View, {\n            style: {\n              marginRight: 20,\n              position: \"absolute\",\n              right: 0,\n              top: 18\n            },\n            children: _jsx(Icon, {\n              name: \"shopping-cart\",\n              size: 25,\n              color: \"#029c0f\",\n              onPress: function onPress() {\n                seletedata(item.product_name, item.product_id, item.price_id, item.product_amount);\n              }\n            })\n          })]\n        }), _jsxs(Text, {\n          style: {\n            marginLeft: 5,\n            alignSelf: \"flex-start\",\n            fontSize: 13,\n            margin: 2\n          },\n          children: [\"\\u0E04\\u0E07\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\", \" \", item.product_amount == null || item.product_amount == 0 ? _jsx(Text, {\n            style: {\n              color: \"#750e0b\"\n            },\n            children: \" \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E2B\\u0E21\\u0E14\"\n          }) : item.product_amount]\n        }), _jsxs(View, {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\"\n          },\n          children: [_jsxs(Text, {\n            style: {\n              flexGrow: 1,\n              marginLeft: 5,\n              fontSize: 13\n            },\n            children: [\"\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22 ( 1 \", item.unit_name, \" )\"]\n          }), _jsxs(Text, {\n            style: {\n              marginRight: 5,\n              color: \"#054d05\"\n            },\n            children: [price, \" บาท \"]\n          })]\n        })]\n      });\n    };\n\n    if (datauser == \"D\") {\n      return box(item.price_sell_D);\n    } else if (datauser == \"C\") {\n      console.log(\"C\");\n      return box(item.price_sell_C);\n    } else if (datauser == \"B\") {\n      console.log(\"B\");\n      return box(item.price_sell_B);\n    } else if (datauser == \"A\") {\n      console.log(\"A\");\n      return box(item.price_sell_A);\n    }\n  };\n\n  var ItemSeparatorView = function ItemSeparatorView() {\n    return _jsx(View, {\n      style: {\n        height: 0.5,\n        width: \"30%\"\n      }\n    });\n  };\n\n  var getItem = function getItem(item) {\n    alert(\"Id : \" + item.id + \" Title : \" + item.title);\n  };\n\n  var seletedata = function seletedata(proname, product_id, price_id, amount) {\n    var grade;\n    return _regeneratorRuntime.async(function seletedata$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            grade = \"D\";\n\n            if (datauser == \"D\") {\n              grade = \"D\";\n            } else if (datauser == \"C\") {\n              grade = \"C\";\n            } else if (datauser == \"B\") {\n              grade = \"B\";\n            } else if (datauser == \"A\") {\n              grade = \"A\";\n            }\n\n            console.log(\"amount = \" + amount);\n            console.log(itemId);\n            console.log(product_id);\n            console.log(price_id);\n\n            if (!(amount == null || amount == 0)) {\n              _context2.next = 10;\n              break;\n            }\n\n            Alert.alert(\"\\u0E44\\u0E21\\u0E48\\u0E2A\\u0E32\\u0E21\\u0E32\\u0E23\\u0E16\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\" + proname + \"\\u0E44\\u0E14\\u0E49 !!\", \"สิ้นค้าหมดชั่วคราว กรุณาเลือกสินค้าอื่น\", [{\n              text: \"ยืนยัน\"\n            }]);\n            _context2.next = 12;\n            break;\n\n          case 10:\n            _context2.next = 12;\n            return _regeneratorRuntime.awrap(axios.post(api + \"/select-product\", {\n              id: itemId,\n              product_id: product_id,\n              price_id: price_id,\n              pro_req_amount: 1,\n              grade: grade\n            }).then(function (response) {\n              var newFilteredDataSource = filteredDataSource.filter(function (filteredDataSources) {\n                return filteredDataSources.product_amount !== response.data.amount;\n              });\n              setFilteredDataSource(newFilteredDataSource);\n\n              if (response.data.result == \"ok\") {\n                Alert.alert(\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 \" + proname + \" \\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08 !!\", \"คุณสามารถเพิ่มจำนวนสินค้าที่ในเมนู Order\", [{\n                  text: \"ยืนยัน\",\n                  onPress: function onPress() {\n                    console.log(itemId);\n                    console.log(product_id);\n                    console.log(price_id);\n                  }\n                }]);\n              } else {\n                Alert.alert(\"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 \" + proname + \" \\u0E16\\u0E39\\u0E01\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E44\\u0E1B\\u0E43\\u0E19\\u0E15\\u0E30\\u0E01\\u0E25\\u0E49\\u0E32\\u0E41\\u0E25\\u0E49\\u0E27 \", \"คุณสามารถเพิ่มจำนวนสินค้าที่ในเมนู Order\", [{\n                  text: \"ยืนยัน\",\n                  onPress: function onPress() {\n                    console.log(itemId);\n                    console.log(product_id);\n                    console.log(price_id);\n                  }\n                }]);\n              }\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    children: [_jsxs(View, {\n      style: styles.boxSearch,\n      children: [_jsxs(View, {\n        style: {\n          alignItems: \"center\"\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 18,\n            fontFamily: \"Kanit_300Light\",\n            color: \"#fff\"\n          },\n          children: \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E1C\\u0E31\\u0E01\\u0E2A\\u0E14\\u0E40\\u0E0A\\u0E35\\u0E22\\u0E07\\u0E43\\u0E2B\\u0E21\\u0E48\"\n        }), _jsx(Text, {\n          style: {\n            color: \"#fff\",\n            fontSize: 14,\n            fontFamily: \"Kanit_300Light\",\n            marginBottom: 13\n          },\n          children: \"www.\\u0E1C\\u0E31\\u0E01\\u0E2A\\u0E14\\u0E40\\u0E0A\\u0E35\\u0E22\\u0E07\\u0E43\\u0E2B\\u0E21\\u0E48.com\"\n        })]\n      }), _jsx(Image, {\n        source: {\n          uri: \"https://www.ผักสดเชียงใหม่.com/image/logo1.png\"\n        },\n        style: {\n          width: 60,\n          height: 60,\n          marginLeft: 20\n        },\n        containerStyle: {\n          marginLeft: \"auto\",\n          marginBottom: 14\n        }\n      }), _jsxs(View, {\n        style: styles.searchSection,\n        children: [_jsx(Icon, {\n          name: \"search\",\n          size: 20,\n          color: \"#a3a3a3\",\n          onPress: function onPress() {\n            console.log(\"asda\");\n          }\n        }), _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n          onChangeText: function onChangeText(text) {\n            return searchFilterFunction(text);\n          },\n          value: search,\n          underlineColorAndroid: \"transparent\"\n        })]\n      })]\n    }), _jsx(View, {\n      style: styles.container,\n      children: isLoading ? _jsx(View, {\n        style: {\n          flex: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"#00ff00\"\n        })\n      }) : _jsx(FlatList, {\n        data: filteredDataSource,\n        horizontal: false,\n        numColumns: 2,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: ItemView,\n        contentContainerStyle: {\n          padding: 2,\n          paddingBottom: 40\n        }\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    paddingBottom: 100,\n    height: \"100%\"\n  },\n  boxSearch: {\n    backgroundColor: \"#339933\",\n    minHeight: 90,\n    maxHeight: 90,\n    display: \"flex\",\n    borderBottomEndRadius: 7,\n    borderBottomStartRadius: 7,\n    flexDirection: \"row\",\n    position: \"relative\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 10,\n    marginBottom: 30,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.27,\n    shadowRadius: 4.65,\n    elevation: 6\n  },\n  searchSection: {\n    bottom: 0,\n    borderRadius: 10,\n    alignSelf: \"center\",\n    top: 65,\n    position: \"absolute\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    height: 50,\n    flexDirection: \"row\",\n    backgroundColor: \"#fff\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 5,\n    paddingLeft: 10,\n    paddingRight: 10\n  },\n  searchIcon: {\n    padding: 10\n  },\n  input: {\n    marginLeft: 5,\n    flex: 1,\n    padding: 5,\n    backgroundColor: \"#fff\",\n    color: \"#424242\"\n  },\n  itemStyle: {\n    color: \"#006faf\",\n    fontWeight: \"700\",\n    marginTop: 0,\n    flexGrow: 1,\n    fontWeight: \"900\",\n    fontSize: 14,\n    marginLeft: 5\n  },\n  textInputStyle: {\n    height: 40,\n    borderWidth: 1,\n    paddingLeft: 20,\n    margin: 5,\n    borderColor: \"#009688\",\n    backgroundColor: \"#FFFFFF\"\n  },\n  boxItems: {\n    width: \"48%\",\n    justifyContent: \"center\",\n    paddingTop: 0,\n    alignItems: \"center\",\n    backgroundColor: \"#fff\",\n    marginBottom: 8,\n    paddingBottom: 10,\n    height: 280,\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.27,\n    shadowRadius: 4.65,\n    elevation: 6\n  }\n});\nexport default Home;","map":{"version":3,"sources":["C:/Users/ANUCHA/Desktop/api-cm-vjtb/app-cm-vgtb/vgtb-app/screens/Home.js"],"names":["React","useState","useEffect","Icon","api","axios","Home","route","itemId","params","isLoading","setIsLoading","search","setSearch","filteredDataSource","setFilteredDataSource","masterDataSource","setMasterDataSource","datauser","setDatauser","get","then","result","data","user_grade","fetch","response","json","responseJson","catch","error","console","searchFilterFunction","text","newData","filter","item","itemData","product_name","toUpperCase","textData","indexOf","ItemView","box","price","styles","boxItems","seletedata","product_id","product_price","uri","flex","justifyContent","width","height","display","flexDirection","marginTop","position","itemStyle","getItem","marginRight","right","top","price_id","product_amount","marginLeft","alignSelf","fontSize","margin","color","flexGrow","unit_name","price_sell_D","log","price_sell_C","price_sell_B","price_sell_A","ItemSeparatorView","alert","id","title","proname","amount","grade","Alert","post","pro_req_amount","newFilteredDataSource","filteredDataSources","onPress","boxSearch","alignItems","fontFamily","marginBottom","searchSection","input","container","index","toString","padding","paddingBottom","StyleSheet","create","backgroundColor","minHeight","maxHeight","borderBottomEndRadius","borderBottomStartRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","bottom","borderRadius","maxWidth","paddingLeft","paddingRight","searchIcon","fontWeight","textInputStyle","borderWidth","borderColor","paddingTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\n// import all the components we are going to use\r\nimport {\r\n  SafeAreaView,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  FlatList,\r\n  TextInput,\r\n  Image,\r\n  ImageBackground,\r\n  ActivityIndicator,\r\n  Alert,\r\n} from \"react-native\";\r\n\r\nimport Icon from \"react-native-vector-icons/FontAwesome\";\r\nimport { api } from \"../api\";\r\nimport axios from \"axios\";\r\nconst Home = ({ route }) => {\r\n  const { itemId } = route.params;\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [filteredDataSource, setFilteredDataSource] = useState([]);\r\n  const [masterDataSource, setMasterDataSource] = useState([]);\r\n  const [datauser, setDatauser] = useState([]);\r\n\r\n  useEffect(async () => {\r\n    setSearch(\"\");\r\n    // setIsLoading(true);\r\n    await axios.get(api + \"/user/\" + itemId).then((result) => {\r\n      setDatauser(result.data[0].data[0].user_grade);\r\n    });\r\n    fetch(api + \"/producthome\")\r\n      .then((response) => response.json())\r\n      .then((responseJson) => {\r\n        setFilteredDataSource(responseJson[0].data);\r\n        setMasterDataSource(responseJson[0].data);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }, [route]);\r\n  // console.log(datauser);\r\n  const searchFilterFunction = (text) => {\r\n    // Check if searched text is not blank\r\n    if (text) {\r\n      // Inserted text is not blank\r\n      // Filter the masterDataSource\r\n      // Update FilteredDataSource\r\n      const newData = masterDataSource.filter(function (item) {\r\n        const itemData = item.product_name\r\n          ? item.product_name.toUpperCase()\r\n          : \"\".toUpperCase();\r\n        const textData = text.toUpperCase();\r\n        return itemData.indexOf(textData) > -1;\r\n      });\r\n      setFilteredDataSource(newData);\r\n      setSearch(text);\r\n    } else {\r\n      // Inserted text is blank\r\n      // Update FilteredDataSource with masterDataSource\r\n      setFilteredDataSource(masterDataSource);\r\n      setSearch(text);\r\n    }\r\n  };\r\n\r\n  const ItemView = ({ item }) => {\r\n    const box = (price) => {\r\n      return (\r\n        <View\r\n          style={styles.boxItems}\r\n          onPress={() => {\r\n            seletedata(item.product_name, item.product_id, item.product_price);\r\n          }}\r\n        >\r\n          {/* https://www.ผักสดเชียงใหม่.com/image/product_image/676.jpg */}\r\n          <ImageBackground\r\n            source={{\r\n              uri: `https://hotel78maldives.com/thecatch/wp-content/uploads/2021/03/NoImageAvailable.png`,\r\n            }}\r\n            resizeMode=\"cover\"\r\n            style={{ flex: 1, justifyContent: \"center\" }}\r\n          >\r\n            <Image\r\n              source={{\r\n                uri: `https://www.ผักสดเชียงใหม่.com/image/product_image/${item.product_id}.jpg`,\r\n              }}\r\n              style={{ width: 180, height: 180 }}\r\n            />\r\n          </ImageBackground>\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              marginTop: 1,\r\n              position: \"relative\",\r\n            }}\r\n          >\r\n            <Text style={styles.itemStyle} onPress={() => getItem(item)}>\r\n              {item.product_name.toUpperCase()}{\" \"}\r\n            </Text>\r\n            <View\r\n              style={{\r\n                marginRight: 20,\r\n                position: \"absolute\",\r\n                right: 0,\r\n                top: 18,\r\n              }}\r\n            >\r\n              <Icon\r\n                name=\"shopping-cart\"\r\n                size={25}\r\n                color=\"#029c0f\"\r\n                onPress={() => {\r\n                  seletedata(\r\n                    item.product_name,\r\n                    item.product_id,\r\n                    item.price_id,\r\n                    item.product_amount\r\n                  );\r\n                }}\r\n              />\r\n            </View>\r\n          </View>\r\n          <Text\r\n            style={{\r\n              marginLeft: 5,\r\n              alignSelf: \"flex-start\",\r\n              fontSize: 13,\r\n              margin: 2,\r\n            }}\r\n          >\r\n            คงเหลือ{\" \"}\r\n            {item.product_amount == null || item.product_amount == 0 ? (\r\n              <Text style={{ color: \"#750e0b\" }}> สินค้าหมด</Text>\r\n            ) : (\r\n              item.product_amount\r\n            )}\r\n          </Text>\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n            }}\r\n          >\r\n            <Text style={{ flexGrow: 1, marginLeft: 5, fontSize: 13 }}>\r\n              หน่วย ( 1 {item.unit_name} )\r\n            </Text>\r\n            <Text style={{ marginRight: 5, color: \"#054d05\" }}>\r\n              {price}\r\n              {\" บาท \"}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n      );\r\n    };\r\n    if (datauser == \"D\") {\r\n      return box(item.price_sell_D);\r\n    } else if (datauser == \"C\") {\r\n      console.log(\"C\");\r\n      return box(item.price_sell_C);\r\n    } else if (datauser == \"B\") {\r\n      console.log(\"B\");\r\n      return box(item.price_sell_B);\r\n    } else if (datauser == \"A\") {\r\n      console.log(\"A\");\r\n      return box(item.price_sell_A);\r\n    }\r\n  };\r\n\r\n  const ItemSeparatorView = () => {\r\n    return (\r\n      // Flat List Item Separator\r\n      <View\r\n        style={{\r\n          height: 0.5,\r\n          width: \"30%\",\r\n          // backgroundColor: \"#C8C8C8\",\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n  const getItem = (item) => {\r\n    // Function for click on an item\r\n    alert(\"Id : \" + item.id + \" Title : \" + item.title);\r\n  };\r\n  const seletedata = async (proname, product_id, price_id, amount) => {\r\n    var grade = \"D\";\r\n    if (datauser == \"D\") {\r\n      grade = \"D\";\r\n    } else if (datauser == \"C\") {\r\n      grade = \"C\";\r\n    } else if (datauser == \"B\") {\r\n      grade = \"B\";\r\n    } else if (datauser == \"A\") {\r\n      grade = \"A\";\r\n    }\r\n\r\n    console.log(\"amount = \" + amount);\r\n    console.log(itemId);\r\n    console.log(product_id);\r\n    console.log(price_id);\r\n    if (amount == null || amount == 0) {\r\n      Alert.alert(\r\n        `ไม่สามารถเพิ่ม${proname}ได้ !!`,\r\n        \"สิ้นค้าหมดชั่วคราว กรุณาเลือกสินค้าอื่น\",\r\n        [\r\n          {\r\n            text: \"ยืนยัน\",\r\n          },\r\n        ]\r\n      );\r\n    } else {\r\n      await axios\r\n        .post(api + \"/select-product\", {\r\n          id: itemId,\r\n          product_id: product_id,\r\n          price_id: price_id,\r\n          pro_req_amount: 1,\r\n          grade: grade,\r\n        })\r\n        .then(function (response) {\r\n          const newFilteredDataSource = filteredDataSource.filter(\r\n            (filteredDataSources) => {\r\n              return (\r\n                filteredDataSources.product_amount !== response.data.amount\r\n              );\r\n            }\r\n          );\r\n          setFilteredDataSource(newFilteredDataSource);\r\n\r\n          if (response.data.result == \"ok\") {\r\n            Alert.alert(\r\n              `เพิ่มสินค้า ${proname} สำเร็จ !!`,\r\n              \"คุณสามารถเพิ่มจำนวนสินค้าที่ในเมนู Order\",\r\n              [\r\n                {\r\n                  text: \"ยืนยัน\",\r\n                  onPress: () => {\r\n                    console.log(itemId);\r\n                    console.log(product_id);\r\n                    console.log(price_id);\r\n                  },\r\n                },\r\n              ]\r\n            );\r\n          } else {\r\n            Alert.alert(\r\n              `สินค้า ${proname} ถูกเพิ่มไปในตะกล้าแล้ว `,\r\n              \"คุณสามารถเพิ่มจำนวนสินค้าที่ในเมนู Order\",\r\n              [\r\n                {\r\n                  text: \"ยืนยัน\",\r\n                  onPress: () => {\r\n                    console.log(itemId);\r\n                    console.log(product_id);\r\n                    console.log(price_id);\r\n                  },\r\n                },\r\n              ]\r\n            );\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  // if (isLoading) {\r\n  //   return (\r\n  //     <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\r\n  //       <ActivityIndicator size=\"large\" color=\"#00ff00\" />\r\n  //     </View>\r\n  //   );\r\n  // }\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={styles.boxSearch}>\r\n        <View style={{ alignItems: \"center\" }}>\r\n          <Text\r\n            style={{\r\n              fontSize: 18,\r\n              fontFamily: \"Kanit_300Light\",\r\n              color: \"#fff\",\r\n            }}\r\n          >\r\n            รายการสินค้าผักสดเชียงใหม่\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              color: \"#fff\",\r\n              fontSize: 14,\r\n              fontFamily: \"Kanit_300Light\",\r\n              marginBottom: 13,\r\n            }}\r\n          >\r\n            www.ผักสดเชียงใหม่.com\r\n          </Text>\r\n        </View>\r\n        <Image\r\n          source={{ uri: \"https://www.ผักสดเชียงใหม่.com/image/logo1.png\" }}\r\n          style={{ width: 60, height: 60, marginLeft: 20 }}\r\n          containerStyle={{ marginLeft: \"auto\", marginBottom: 14 }}\r\n        />\r\n\r\n        <View style={styles.searchSection}>\r\n          <Icon\r\n            name=\"search\"\r\n            size={20}\r\n            color=\"#a3a3a3\"\r\n            onPress={() => {\r\n              console.log(\"asda\");\r\n            }}\r\n          />\r\n          <TextInput\r\n            style={styles.input}\r\n            // value={searchTpye}\r\n            placeholder=\"ค้นหาสินค้า\"\r\n            onChangeText={(text) => searchFilterFunction(text)}\r\n            value={search}\r\n            underlineColorAndroid=\"transparent\"\r\n          />\r\n        </View>\r\n      </View>\r\n      <View style={styles.container}>\r\n        {isLoading ? (\r\n          <View\r\n            style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}\r\n          >\r\n            <ActivityIndicator size=\"large\" color=\"#00ff00\" />\r\n          </View>\r\n        ) : (\r\n          <FlatList\r\n            data={filteredDataSource}\r\n            horizontal={false}\r\n            numColumns={2}\r\n            keyExtractor={(item, index) => index.toString()}\r\n            renderItem={ItemView}\r\n            contentContainerStyle={{ padding: 2, paddingBottom: 40 }}\r\n          />\r\n        )}\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: \"white\",\r\n    paddingBottom: 100,\r\n    height: \"100%\",\r\n  },\r\n  boxSearch: {\r\n    backgroundColor: \"#339933\",\r\n    minHeight: 90,\r\n    maxHeight: 90,\r\n    display: \"flex\",\r\n    borderBottomEndRadius: 7,\r\n    borderBottomStartRadius: 7,\r\n    flexDirection: \"row\",\r\n    position: \"relative\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: 10,\r\n    marginBottom: 30,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 3,\r\n    },\r\n    shadowOpacity: 0.27,\r\n    shadowRadius: 4.65,\r\n\r\n    elevation: 6,\r\n  },\r\n  searchSection: {\r\n    bottom: 0,\r\n    borderRadius: 10,\r\n    alignSelf: \"center\",\r\n    top: 65,\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    maxWidth: \"100%\",\r\n    height: 50,\r\n    flexDirection: \"row\",\r\n    backgroundColor: \"#fff\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: 5,\r\n    paddingLeft: 10,\r\n    paddingRight: 10,\r\n  },\r\n  searchIcon: {\r\n    padding: 10,\r\n  },\r\n  input: {\r\n    marginLeft: 5,\r\n    flex: 1,\r\n    padding: 5,\r\n    backgroundColor: \"#fff\",\r\n    color: \"#424242\",\r\n  },\r\n  itemStyle: {\r\n    // padding: 10,\r\n    color: \"#006faf\",\r\n    fontWeight: \"700\",\r\n    marginTop: 0,\r\n    flexGrow: 1,\r\n    fontWeight: \"900\",\r\n    fontSize: 14,\r\n    marginLeft: 5,\r\n  },\r\n  textInputStyle: {\r\n    height: 40,\r\n    borderWidth: 1,\r\n    paddingLeft: 20,\r\n    margin: 5,\r\n    borderColor: \"#009688\",\r\n    backgroundColor: \"#FFFFFF\",\r\n  },\r\n  boxItems: {\r\n    width: \"48%\",\r\n    justifyContent: \"center\",\r\n    paddingTop: 0,\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#fff\",\r\n    marginBottom: 8,\r\n    paddingBottom: 10,\r\n    height: 280,\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 3,\r\n    },\r\n    shadowOpacity: 0.27,\r\n    shadowRadius: 4.65,\r\n\r\n    elevation: 6,\r\n  },\r\n});\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}